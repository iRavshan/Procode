@model BlogViewModel
@{
    ViewData["Title"] = Model.PageTitle;
}

<div class="page-content bg-white">
    <div class="page-banner ovbl-dark" style="background-image:url(/assets/images/bg.png);">
        <div class="container">
            <div class="page-banner-entry">
                <h1 class="text-white">@Model.PageTitle</h1>
            </div>
        </div>
    </div>
    <div class="content-block">
        <div class="section-area section-sp1 section-bg">
            <div class="container">
                <div class="row">
                    <!-- Left part start -->
                    <div class="col-md-7 col-lg-8 col-xl-8">
                        @{
                            if (Model.Contents.ToList().Count != 0)
                            {
                                foreach (var content in Model.Contents)
                                {
                                    <div class="recent-news blog-lg m-b40">
                                        <div class="info-bx">
                                            <h5 class="post-title"><a asp-controller="home" asp-action="content" asp-route-Id="@content.Id">@content.Name</a></h5>
                                            <p>@content.ShortDescription</p>
                                            <ul class="media-post">
                                                <li> <button class="btn-tag"><i class="fa fa-user mr-2"></i>@($"{content.AuthorFirstname} {content.AuthorLastname}")</button></li>
                                                <li> <button class="btn-tag-font">#@content.Tag</button></li>
                                            </ul>
                                            <div class="post-extra mt-0 pt-0">
                                                <a asp-controller="home" asp-action="content" asp-route-Id="@content.Id" class="btn-link">Batafsil</a>
                                            </div>
                                        </div>
                                    </div>

                                }
                            }

                            if(Model.Contents.ToList().Count == 0)
                            {
                                <p class="text-center mb-5">@($"'{Model.Search}' qidiruvi bo'yicha hech narsa topilmadi")</p>
                            }

                        }
                    </div>
                    <!-- Left part END -->
                    <!-- Side bar start -->
                    <div class="col-md-5 col-lg-4 col-xl-4">
                        <aside class="side-bar">
                            <div class="widget widget-root">
                                <h6 class="widget-title">Qidirish</h6>
                                <div class="search-bx style-1">
                                    <form asp-controller="home" asp-action="blog" method="post">
                                        <div class="input-group">
                                            <input asp-for="Search" class="form-control" placeholder="Kalit so'zlarni kiriting..." type="text">
                                            <span class="input-group-btn">
                                                <button type="submit" class="fa fa-search text-primary"></button>
                                            </span>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="widget recent-posts-entry widget-root">
                                <h6 class="widget-title">Eng so'nggilar</h6>
                                <div class="widget-post-bx">
                                    @{
                                        foreach(var content in Model.LastContents)
                                        {
                                          <div class="widget-post clearfix">
                                              <div class="ttr-post-media"> 
                                                  <img src="@($"https://ytimg.googleusercontent.com/vi/{content.YoutubeVideoId}/maxresdefault.jpg")" width="200" height="143" alt=""> 
                                              </div>
                                              <div class="ttr-post-info">
                                                 <div class="ttr-post-header">
                                                     <h6 class="post-title"><a asp-controller="home" asp-action="content" asp-route-Id="@content.Id">@content.Name</a></h6>
                                                 </div>
                                                 <ul class="media-post">
                                                     <li> <button class="btn-tag-font"><i class="fa fa-user mr-2"></i>@($"{content.AuthorFirstname.Substring(0, 1)}. {content.AuthorLastname}")</button></li>
                                                  </ul>
                                              </div>
                                          </div>
                                        }
                                    }
                                    
                                </div>
                            </div>
                            <div class="widget widget-newslatter widget-root">
                                <h6 class="widget-title">Yangiliklar</h6>
                                <div class="news-box">
                                    <p>Mahorat darslarini tashkil etish bo'yicha takliflarni bizga yozib qoldiring.</p>
                                </div>
                            </div>
                            <div class="widget widget_tag_cloud widget-root">
                                <h6 class="widget-title">Teglar</h6>
                                <div class="tagcloud">
                                    <a asp-controller="home" asp-action="blog" asp-route-t="design">Design</a>
                                    <a href="#">User interface</a>
                                </div>
                            </div>
                        </aside>
                    </div>
                    <!-- Side bar END -->
                </div>
            </div>
        </div>
    </div>
</div>


@section styles{
    <link rel="stylesheet" type="text/css" href="/assets/css/assets.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/typography.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/shortcodes/shortcodes.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link class="skin" rel="stylesheet" type="text/css" href="/assets/css/color/color-1.css">
}

@section scripts{
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/vendors/bootstrap/js/popper.min.js"></script>
    <script src="/assets/vendors/bootstrap/js/bootstrap.min.js"></script>
    <script src="/assets/vendors/bootstrap-select/bootstrap-select.min.js"></script>
    <script src="/assets/vendors/bootstrap-touchspin/jquery.bootstrap-touchspin.js"></script>
    <script src="/assets/vendors/magnific-popup/magnific-popup.js"></script>
    <script src="/assets/vendors/counter/waypoints-min.js"></script>
    <script src="/assets/vendors/counter/counterup.min.js"></script>
    <script src="/assets/vendors/imagesloaded/imagesloaded.js"></script>
    <script src="/assets/vendors/masonry/masonry.js"></script>
    <script src="/assets/vendors/masonry/filter.js"></script>
    <script src="/assets/vendors/owl-carousel/owl.carousel.js"></script>
    <script src="/assets/js/functions.js"></script>
}